(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{280:function(e,t,o){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},783:function(e,t,o){"use strict";o.r(t);var r=o(0),a=o(54),n=(o(53),o(17),o(28),o(280)),s=o(1),l=(s.default.config.optionMergeStrategies,{VueRemarkRoot:n.a}),i=function(e){var t=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(l).forEach((function(e){"object"===Object(a.a)(l[e])&&"function"==typeof l[e].render?t[e]=l[e]:o[e]=function(){return l[e]}}))},u=s.default.config.optionMergeStrategies,d="__vueRemarkFrontMatter",c={excerpt:null,title:"Deploy to Google Cloud Platform"};var g=function(e){e.options[d]&&(e.options[d]=c),s.default.util.defineReactive(e.options,d,c),e.options.computed=u.computed({$frontmatter:function(){return e.options[d]}},e.options.computed)},p=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("VueRemarkRoot",[o("h1",{attrs:{id:"deploy-to-google-cloud-platform"}},[o("a",{attrs:{href:"#deploy-to-google-cloud-platform","aria-hidden":"true"}},[e._v("#")]),e._v("Deploy to Google Cloud Platform")]),o("h2",{attrs:{id:"prerequisites"}},[o("a",{attrs:{href:"#prerequisites","aria-hidden":"true"}},[e._v("#")]),e._v("Prerequisites:")]),o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",{pre:!0,attrs:{class:"language-text"}},[e._v("  1. Create a project op Google Cloud Platform\n  2. Have acces to DNS record of your domain\n  ")])]),o("p",[e._v("You can host a static website on a Google Cloud Storage bucket for a domain you own.")]),o("p",[e._v("The downside to this is that you can only use HTTP.\nPlease Follow this "),o("a",{attrs:{href:"https://cloud.google.com/storage/docs/hosting-static-website",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("tutorial")]),e._v(" for a HTTP only website")]),o("p",[e._v("The HTTPS configuration is a bit more complex.")]),o("h1",{attrs:{id:"steps-to-complete"}},[o("a",{attrs:{href:"#steps-to-complete","aria-hidden":"true"}},[e._v("#")]),e._v("Steps to complete")]),o("h2",{attrs:{id:"use-a-cloud-storage-bucket-as-a-load-balancer-backend"}},[o("a",{attrs:{href:"#use-a-cloud-storage-bucket-as-a-load-balancer-backend","aria-hidden":"true"}},[e._v("#")]),e._v("Use a Cloud Storage bucket as a load balancer backend")]),o("p",[e._v(" Steps:")]),o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",{pre:!0,attrs:{class:"language-text"}},[e._v("  1. Configure a Cloud Storage bucket\n  2. Configure a load balancing service\n  3. Create an external adress")])]),o("p",[e._v("Please follow the steps in the well documented Google "),o("a",{attrs:{href:"https://cloud.google.com/load-balancing/docs/https/adding-a-backend-bucket-to-content-based-load-balancing",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("tutorial")])]),o("h2",{attrs:{id:"set-main-and-error-page-for-bucket"}},[o("a",{attrs:{href:"#set-main-and-error-page-for-bucket","aria-hidden":"true"}},[e._v("#")]),e._v("Set main and error page for bucket")]),o("p",[e._v("gsutil web set -m index.html -e 404.html gs://your-bucket-name\n"),o("a",{attrs:{href:"https://cloud.google.com/storage/docs/gsutil/commands/web",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Documentation")])]),o("h1",{attrs:{id:"google-cloud-build"}},[o("a",{attrs:{href:"#google-cloud-build","aria-hidden":"true"}},[e._v("#")]),e._v("Google cloud build")]),o("h2",{attrs:{id:"setup-google-source-repositories"}},[o("a",{attrs:{href:"#setup-google-source-repositories","aria-hidden":"true"}},[e._v("#")]),e._v("Setup Google Source Repositories")]),o("p",[o("a",{attrs:{href:"https://cloud.google.com/source-repositories/docs/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Documentation")])]),o("h2",{attrs:{id:"add-build-trigger"}},[o("a",{attrs:{href:"#add-build-trigger","aria-hidden":"true"}},[e._v("#")]),e._v("Add Build trigger")]),o("p",[e._v("Create a new "),o("a",{attrs:{href:"https://console.cloud.google.com/cloud-build/triggers",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("trigger")])]),o("p",[e._v("Add a cloudbuild.yaml to the root of the project containing")]),o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",{pre:!0,attrs:{class:"language-text"}},[e._v('steps:\n- name: \'gcr.io/cloud-builders/npm\'\nargs: [\'install\']\n- name: \'gcr.io/cloud-builders/npm\'\nargs: [\'run\' , \'build\']\n- name: \'gcr.io/cloud-builders/gsutil\'\nargs: ["-m", "rsync", "-r", "-c", "-d", "./dist", "gs://bucket-name"]')])]),o("p",[e._v("Last build step is to push static files to your bucket")]),o("h2",{attrs:{id:"link-dns-record-to-reserved-external-google-ip"}},[o("a",{attrs:{href:"#link-dns-record-to-reserved-external-google-ip","aria-hidden":"true"}},[e._v("#")]),e._v("Link DNS record to reserved external Google IP")]),o("p",[e._v("You must link these to resolve your domain to our external Google IP adress.\nThis can be done in your DNS service")])])}),[],!1,null,null,null);"function"==typeof i&&i(p),"function"==typeof g&&g(p);t.default=p.exports}}]);