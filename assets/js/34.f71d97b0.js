(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{281:function(e,a,t){"use strict";a.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},801:function(e,a,t){"use strict";t.r(a);var o=t(0),n=t(54),r=(t(88),t(20),t(34),t(281)),s=t(1),p=(s.default.config.optionMergeStrategies,{VueRemarkRoot:r.a}),c=function(e){var a=e.options.components=e.options.components||{},t=e.options.computed=e.options.computed||{};Object.keys(p).forEach((function(e){"object"===Object(n.a)(p[e])&&"function"==typeof p[e].render?a[e]=p[e]:t[e]=function(){return p[e]}}))},l=s.default.config.optionMergeStrategies,i="__vueRemarkFrontMatter",d={excerpt:null,title:"Deploy a Rholang contract"};var v=function(e){e.options[i]&&(e.options[i]=d),s.default.util.defineReactive(e.options,i,d),e.options.computed=l.computed({$frontmatter:function(){return e.options[i]}},e.options.computed)},f=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("VueRemarkRoot",[t("h1",{attrs:{id:"deploy-a-rholang-contract"}},[t("a",{attrs:{href:"#deploy-a-rholang-contract","aria-hidden":"true"}},[e._v("#")]),e._v("Deploy a Rholang contract")]),t("p",[e._v("Deploy a Rholang source file to Casper on an existing running node. The deploy will be packaged and sent as a block to the network depending on the configuration of the Casper instance.")]),t("h2",{attrs:{id:"deploy-commands"}},[t("a",{attrs:{href:"#deploy-commands","aria-hidden":"true"}},[e._v("#")]),e._v("Deploy commands")]),t("p",[e._v("The deploy command requires the following specifications in addition to the Rholang file:")]),t("ul",[t("li",[t("code",{pre:!0,attrs:{class:"language-text"}},[e._v("--phlo-limit  <arg>")]),e._v("             The amount of phlo to use for the\n                                  transaction (unused phlo is refunded).\n                                  Must be positive integer.")]),t("li",[t("code",{pre:!0,attrs:{class:"language-text"}},[e._v("--phlo-price  <arg>")]),e._v("             The price of phlo for this transaction\n                                  in units dust/phlo. Must be positive\n                                  integer.")]),t("li",[t("code",{pre:!0,attrs:{class:"language-text"}},[e._v("--private-key-path  <arg>")]),e._v("       The deployer's file with encrypted\n                                  private key.")])]),t("p",[e._v("##Deploy a Rholang contract to a known validator\nUnless you are a validator in the RChain network or a private network, you will typically deploy Rholang to a known validator with the intent to add the contract to the blockchain.")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",{pre:!0,attrs:{class:"language-bash"}},[e._v("rnode --grpc-host "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("address of known validator"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" deploy --phlo-limit "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --phlo-price "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --private-key-path "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("path to encrypted private ke"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("path to .rho file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])])]),t("h2",{attrs:{id:"deploy-a-rholang-contract-to-a-known-validator-in-docker"}},[t("a",{attrs:{href:"#deploy-a-rholang-contract-to-a-known-validator-in-docker","aria-hidden":"true"}},[e._v("#")]),e._v("Deploy a Rholang contract to a known validator in Docker")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",{pre:!0,attrs:{class:"language-bash"}},[e._v("docker run -it --rm --network rnode-net --name rnode-deploy1 -v "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$HOME")]),e._v("/var/rholang:/var/ rchain/rnode:latest --grpc-host "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("address of known validator"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" deploy --from "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0x1"')]),e._v(" --phlo-limit "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --phlo-price "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --private-key-path "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("path to encrypted private key"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("path to Rholang file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])])]),t("h2",{attrs:{id:"deploy-returns-a-deployid"}},[t("a",{attrs:{href:"#deploy-returns-a-deployid","aria-hidden":"true"}},[e._v("#")]),e._v("Deploy returns a DeployID")]),t("p",[e._v("A successful deploy returns a DeployID. You can use this ID to locate your deploy in a proposed block.")]),t("p",[e._v("For example:")]),t("p",[e._v("Here is a deploy made from an observer node to a validating node on a testnet:")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",{pre:!0,attrs:{class:"language-bash"}},[e._v("root@kelly:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# rnode --grpc-host node1.devnet.rchain-dev.tk deploy --phlo-price 10000000 --phlo-limit 1 --private-key-path /keys tut-philosophers.rho")]),e._v("\nPassword "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" private key file: ******\nResponse: Success"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\nDeployId is: 3045022100bbabe879eed9194ef371f312b0fa36d402409111d307a1cb01cc8c519fdb741502206051ecfcd79aad31764ab7b65ceec4c537489ea7359fc8f80472e74c819b4cb1")])]),t("p",[e._v("Once we hav the DeployID, we can locate the block containing that deploy.")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",{pre:!0,attrs:{class:"language-bash"}},[e._v("root@kelly:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# rnode --grpc-host node1.devnet.rchain-dev.tk find-deploy --deploy-id 3045022100bbabe879eed9194ef371f312b0fa36d402409111d307a1cb01cc8c519fdb741502206051ecfcd79aad31764ab7b65ceec4c537489ea7359fc8f80472e74c819b4cb1")]),e._v("\nblockInfo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\nblockHash: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2b7848babd7ea4bee52bd7e9990a5119a98b9482ac28e5e9b181bbf1a480d8bf"')]),e._v("\nblockSize: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"35679"')]),e._v("\nblockNumber: "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("315")]),e._v("\nversion: "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\ndeployCount: "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("\ntupleSpaceHash: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"d7aa5b8e0a9a6bf1bbfd3f19715ad08996b5fdde8eb64200763a742d1f348ea7"')]),e._v("\ntimestamp: "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1560208996576")]),e._v("\nfaultTolerance: -1.0\nmainParentHash: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"fb17569ab340486e2bcfb33910a87ea30f598288af2c420397f055f03b2687ec"')]),e._v("\nparentsHashList: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"fb17569ab340486e2bcfb33910a87ea30f598288af2c420397f055f03b2687ec"')]),e._v("\nparentsHashList: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"9100f449f0fa3501fc058eb78534545f27d79503366078033c33625636391604"')]),e._v("\nsender: "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0443a5170db3ec242341864617f752a0e54d34213793b96c5708db72ce62a75e1a37af8f1dcb93b208fe807f408a30f6acd343330a5d27b3434c759ac5d231679f"')])])]),t("p",[e._v("If the deploy has not yet been proposed in a block, you will receive the following:")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",{pre:!0,attrs:{class:"language-bash"}},[e._v("Couldn't "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("find")]),e._v(" block containing deploy with id:3045022100bbabe879eed9194ef371f312b0fa36d402409111d307a1cb01cc8c519fdb741502206051ecfcd79aad31764ab7b65ceec4c537489ea7359fc8f80472e74c819b4cb1")])])])}),[],!1,null,null,null);"function"==typeof c&&c(f),"function"==typeof v&&v(f);a.default=f.exports}}]);